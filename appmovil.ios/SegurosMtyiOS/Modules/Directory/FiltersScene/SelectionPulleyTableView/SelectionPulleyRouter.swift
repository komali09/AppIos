//
//  SelectionPulleyRouter.swift
//  SegurosMtyiOS
//
//  Created by Erwin Jonnatan Perez TÃ©llez on 20/12/17.
//  Copyright (c) 2017 IA Interactive. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

@objc protocol SelectionPulleyRoutingLogic {
    func passDataToDirecory()
}

protocol SelectionPulleyDataPassing {
    var dataStore: SelectionPulleyDataStore? { get set }
}

class SelectionPulleyRouter: NSObject, SelectionPulleyRoutingLogic, SelectionPulleyDataPassing {
    weak var viewController: SelectionPulleyViewController?
    var dataStore: SelectionPulleyDataStore?
    
    func passDataToDirecory() {
        
        guard let tabBarController = self.viewController?.presentingViewController as? UITabBarController else { return }
        guard let navigationController = tabBarController.selectedViewController as? UINavigationController else { return }
        guard let viewController = navigationController.viewControllers.first as? DirectoryViewController else { return }
        guard let dataStore = self.dataStore else { return }
        var destinationDS = viewController.router?.filterDataStore
        destinationDS?.selectedState =  dataStore.selectedState
        viewController.interactor?.getLocations(request: Directory.Locations.Request(searchTerms:  nil))
    }
    // MARK: Routing
}
